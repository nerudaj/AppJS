"use strict";var version="2.0.0",va=1,vb=!1,vc={};function fa(){vc={}}function fb(t){return document.getElementById(t)}function fc(t){return document.getElementsByName(t)}function fd(t,e,n){var i="ERROR: "+t+"::"+e+": "+n;console.error(i),0<va&&alert(i)}function fe(t,e){return Math.floor(Math.random()*e+t)}function ff(t,e){return void 0!==t?t:e}function fg(t,e,n,i){var o=ff(i,100),f=fb("HiddenResizer");f.style.fontSize=o+"px",f.innerHTML=t;for(var h=f.offsetWidth,s=f.offsetHeight;.8*e<h||.8*n<s;)o-=1,f.style.fontSize=o+"px",h=f.offsetWidth,s=f.offsetHeight;return o}function fh(){this.dom=null,this.width=0,this.height=0}function fi(){this.app=null}function fj(){this.context={},this.canvas=new fh,this.views={},this.currentView=""}fh.prototype.add=function(t,e,n,i,o,f){o=ff(o,"div"),f=ff(f,null);var h=new fh,s=document.createElement(o);return null!=f&&s.setAttribute("id",f),this.dom.appendChild(s),h.dom=s,h.width=this.width*n,h.height=this.height*i,h.dom.style.position="absolute",h.dom.style.left=this.width*t+"px",h.dom.style.top=this.height*e+"px",h.dom.style.width=h.width+"px",h.dom.style.height=h.height+"px","input"==o&&(h.pd("focus",function(){vb=!0}),h.pd("blur",function(){setTimeout(function(){vb=!1},500)})),h},fh.prototype.pa=function(t){this.dom.style.background=t},fh.prototype.pb=function(t,e,n){var i=null;(e=ff(e,!1))?(n=ff(n,100),i=fg(t,this.width,this.height,n)):"undefined"!==n&&(i=n);var o=document.createTextNode(t);null!=i&&(this.dom.style.fontSize=i+"px"),this.dom.appendChild(o)},fh.prototype.pc=function(t){this.dom.className+=" "+t},fh.prototype.pd=function(t,e){this.dom.addEventListener(t,e)},fi.prototype.pe=function(){fd("ClassView","render","This method is not implemented!")},fi.prototype.pf=function(t){this.app=t},fj.prototype.pg=function(t,e){var n=this.views;return n.hasOwnProperty(e)?(fd("ClassApp","addView","View with name "+e+" already exists!"),!1):(n[e]=t,n[e].pf(this),!0)},fj.prototype.ph=function(t){this.views.hasOwnProperty(t)?(this.currentView=t,this.pe()):fd("ClassApp","toggleView","View called "+t+" does not exist!")},fj.prototype.pe=function(){var t=this.canvas;t.dom.innerHTML="",t.width=window.innerWidth,t.height=window.innerHeight,t.dom.style.position="absolute",t.dom.style.width=t.width+"px",t.dom.style.height=t.height+"px",this.views[this.currentView].pe()},fj.prototype.pf=function(t){this.canvas.dom=fb(t);var e=this;window.addEventListener("resize",function(){vb||(fa(),e.pe())})};var app=new fj;function Main(){app.pf("Canvas");for(var t=[{callback:fk,name:0}],e=0;e<t.length;e++){var n=new fi;n.pe=t[e].callback,app.pg(n,t[e].name)}app.ph(0)}function fk(){var t=this.app.canvas;fp(t,"Header of the page"),fq(t).pb("Hello world"),fo(t,[new fm("Nothing",function(){}),new fm("Useless",function(){})],"a")}var vd=.0807,ve=vd;function fl(t,e){return t.length>e.length?t:e}function fm(t,e,n){this.label=t,this.action=e,this.id=ff(n,null)}function fn(t,e,n,i,o,f,h){var s,d,r=o/e.length;if(null==vc[h]){for(var a="",p=0;p<e.length;p++)a=fl(a,e[p].label);vc[h]=fg(a,t.width*r,t.height*f)}for(p=0;p<e.length;p++)null!=e[p]&&(s=p,d=void 0,(d=t.add(n+p*r,i,r,f,"button",e[s].id)).pd("click",e[s].action),d.pb(e[s].label,!1,vc[h]),0<p&&d.pc("button_separator"))}function fo(t,e,n){var i=t.add(0,1-ve,1,ve);i.pc("toolbar"),fn(i,e,0,0,1,1,n)}function fp(t,e){var n=t.add(0,0,1,vd);null==vc.b&&(vc.b=fg(e,n.width,n.height)),n.pb(e,!1,vc.b),n.pc("header")}function fq(t,e){var n=ff(e,!0)?vd:0,i=t.add(0,n,1,1-n-ve);return i.pc("content"),i}