"use strict";var version="2.0.0";var va=1;var vb=!1;function fa(a){return document.getElementById(a)}function fb(a){return document.getElementsByName(a)}function fc(a,b,c){var d="ERROR: "+a+"::"+b+": "+c;console.error(d),alert(d)}function fd(a,b){return Math.floor(Math.random()*b+a)}function fe(a,b){return"undefined"==typeof a?b:a}function ff(a,b,c,d,e,f){var g=1,h=fe(d,100);b*=fe(e,.8),c*=fe(f,.8);var i=fa("HiddenResizer");for(i.innerHTML=a;1<h-g;){var j=parseInt((g+h)/2);i.style.fontSize=j+"px";var k=i.offsetWidth,l=i.offsetHeight;k<=b&&l<=c?g=j:h=j}return g}function fg(){this.dom=null,this.width=0,this.height=0}"static",fg.prototype.pa=function(a,b,c,d,e,f){e=fe(e,"div"),f=fe(f,null);var g=new fg,h=document.createElement(e);return null!=f&&h.setAttribute("id",f),this.dom.appendChild(h),g.dom=h,g.width=this.width*c,g.height=this.height*d,g.dom.style.position="absolute",g.dom.style.left=this.width*a+"px",g.dom.style.top=this.height*b+"px",g.dom.style.width=g.width+"px",g.dom.style.height=g.height+"px","input"==e&&(g.pe("focus",()=>{vb=!0}),g.pe("blur",()=>{setTimeout(()=>{vb=!1},500)})),g},"static",fg.prototype.pb=function(a){this.dom.style.background=a},"static",fg.prototype.pc=function(a,b,c){b=fe(b,!1);var d=null;b?(c=fe(c,100),d=ff(a,this.width,this.height,c)):"undefined"!==c&&(d=c);var e=document.createTextNode(a);null!=d&&(this.dom.style.fontSize=d+"px"),this.dom.appendChild(e)},"static",fg.prototype.pd=function(a){this.dom.className+=" "+a},"static",fg.prototype.pe=function(a,b){this.dom.addEventListener(a,b)},"static",fg.prototype.pf=function(a){this.pe("click",a)},"static";function fh(){}"static",fh.prototype.pg=function(){fc("ClassView","render","This method is not implemented!")},"static";function fi(){this.context={},this.canvas=new fg,this.views={},this.currentView=""}"static",fi.prototype.ph=function(a,b){var c=this.views;return c.hasOwnProperty(b)?(fc("ClassApp","addView","View with name "+b+" already exists!"),!1):(c[b]=a,!0)},"static",fi.prototype.pi=function(a){return this.views.hasOwnProperty(a)?void(this.currentView=a,this.pg()):void fc("ClassApp","toggleView","View called "+a+" does not exist!")},"static",fi.prototype.pg=function(){var a=this.canvas;a.dom.innerHTML="",a.width=window.innerWidth,a.height=window.innerHeight,a.dom.style.position="absolute",a.dom.style.width=a.width+"px",a.dom.style.height=a.height+"px",this.views[this.currentView].pg()},"static",fi.prototype.pj=function(a){this.canvas.dom=fa(a),window.addEventListener("resize",()=>{vb||(fr(),this.pg())})},"static";var vc=fl;function fj(){var a=fJ(ve.canvas,vo,[new fE(vp,()=>{vc=fl,fk()}),new fE(vq,()=>{vc=fm,fk()}),new fE(vs,()=>{ve.pi(0)})],"a");a.pf(()=>{fk()});var b=a.pa(0,0,1,1,"div","b"),c=fs(b,1,1,"\u2680\u2680\u2680","c",Math.min(a.width,a.height));b.pc("??",!1,c)}function fk(){fa("b").innerHTML="...",setTimeout(()=>{vc()},500)}function fl(){var a=["\u2680","\u2681","\u2682","\u2683","\u2684","\u2685"],b=fa("b");b.innerHTML="";for(var c=0;3>c;c++)b.innerHTML+=a[fd(1,6)-1]}function fm(){var a=fa("b");a.innerHTML=[vt,vu][fd(1,2)-1]}function fn(){this.score=0,this.subscore=0,this.color="red"}function fo(a){var b="0"+(Math.floor(a/60)+"");return b.slice(-2)+":"+("0"+(a%60+"")).slice(-2)}function fp(a,b){return a.length>b.length?a:b}function fq(a){return clearInterval(a),null}var vd={};function fr(){vd={}}function fs(a,b,c,d,e,f){var g=fe(f,100);return null==vd[e]&&(vd[e]=ff(d,a.width*b,a.height*c,g)),vd[e]}var ve=new fi;function Main(){ve.pj("Canvas"),ve.context.players=[],ve.context.initScore=0,ve.context.numOfPlayers=4,ve.context.colorSetup=[0,1,2,3,4,5],ve.context.initCountdown=30,ve.context.countdown=0,ve.context.cntIntHndl=null;for(var a=0;a<ve.context.numOfPlayers;a++)ve.context.players.push(new fn),ve.context.players[a].score=ve.context.initScore,ve.context.players[a].color=Colors[ve.context.colorSetup[a]];for(var b,c=[{callback:ft,name:0},{callback:fx,name:1},{callback:fK,name:2},{callback:fN,name:3},{callback:fj,name:4}],a=0;a<c.length;a++)b=new fh,b.pg=c[a].callback,ve.ph(b,c[a].name);ve.pi(0)}function ft(){var a=fJ(ve.canvas,"",[new fE(vo,()=>{ve.pi(4)}),new fE(vw,()=>{ve.pi(2)}),new fE(vv,()=>{ve.pi(1)})],"d");a.dom.className="",fu(a)}function fu(a){for(var b=ve.context.players.length,c=2==b?1:2,d=Math.ceil(b/c),e=1/c,f=1/d,g=0,h=0;h<d;h++)for(var i=0;i<c;i++){1==b%2&&g+1==b&&(e=1);var j=a.pa(i*e,h*f,e,f);if(j.pb(ve.context.players[g].color),fv(g,j),g++,b==g)return}}function fv(a,b){var c=fs(b,.25,1,"XX","e",250),d=ve.context.players,e=b.pa(.25,0,.5,1,"div","f"+a);e.dom.style.fontSize=c+"px",["-","+"].forEach((e,f)=>{var g=b.pa(.75*f,0,.25,1,"button");g.pc(e,!1,c),g.pf(()=>{fw(d,a,parseInt(e+"1"))}),g.pd("score_btn")}),fw(d,a,d[a].score,!0)}function fw(a,b,c,d){var d=fe(d,!1);a[b].score=(d?0:parseInt(a[b].score))+c,fa("f"+b).innerHTML=a[b].score}var vf=2;var vg=6,Colors=["red","lightgreen","lightblue","yellow","pink","orange","grey","#f5f5f5"];var vh=4;var vi=[0,1,2,3,4,5];var vj=0;function fx(){var a=fJ(ve.canvas,vv,[new fE(vr,()=>{fz(),ve.pi(0)}),new fE(vs,()=>{fA(),ve.pi(0)})],"g");fy(a)}function fy(a){var b=.6,c=.1,d=[vy,vx],e=fs(a,b,c,fp(d[0],d[1]),"h");d.forEach((d,f)=>{var g=a.pa(0,f*c,b,c);g.pd("align_left"),g.pc(d,!1,e)});var f=1/9,g=a.pa(0,2*f,1,f);g.dom.style.fontWeight="bold",g.pc(vz,!1,e);var h=a.pa(b,0,1-b,c,"select");fB(h);var i=a.pa(b,c,1-b,c,"input","i");fC(i);var j=a.pa(0,3*f,1,6*f);fD(j)}function fz(){var a=ve.context,b=a.players;for(a.numOfPlayers=vh;a.numOfPlayers<b.length;)b.pop();for(;a.numOfPlayers>b.length;)b.push(new fn);for(var c=0;c<b.length;c++)a.colorSetup[c]=vi[c],b[c].color=Colors[vi[c]],b[c].score=parseInt(vj);a.initScore=parseInt(vj)}function fA(){var a=ve.context;vh=a.numOfPlayers,vi=a.colorSetup.map(a=>a),vj=a.initScore}function fB(a){for(var b=vf;b<=vg;b++)(function(c){var d=a.pa(0,0,1,1,"option");d.value=b,d.pc(b),d.pf(()=>{vh=c,ve.pi(1)}),c==vh&&(d.dom.selected="selected")})(b)}function fC(a){a.dom.type="number",a.dom.value=vj,a.pe("input",()=>{a.dom.validity.valid&&(vj=a.dom.value)}),a.dom.autocomplete="off"}function fD(a){for(var b=1/Colors.length,c=1/vg,d=0;d<vh;d++)for(var e=0;e<Colors.length;e++)(function(d,e){var f=a.pa(e*b,d*c,b,c);f.pb(Colors[e]);var g="";vi[d]==e&&(g="checked"),f.dom.innerHTML="<input type=\"radio\" name=\"j"+d+"\" value=\""+e+"\" "+g+">",f.pf(()=>{vi[d]=e})})(d,e)}var vk=.0807;var vl=vk;function fE(a,b,c){this.label=a,this.action=b,this.id=fe(c,null)}function fF(a,b,c,d,e,f,g){var h=e/b.length;if(null==vd[g]){for(var j="",k=0;k<b.length;k++)j=fp(j,b[k].label);vd[g]=ff(j,a.width*h,a.height*f)}for(var k=0;k<b.length;k++)null!=b[k]&&function(e){var i=a.pa(c+k*h,d,h,f,"button",b[e].id);i.pf(b[e].action),i.pc(b[e].label,!1,vd[g]),0<k&&i.pd("button_separator")}(k)}function fG(a,b,c){var d=a.pa(0,1-vl,1,vl);d.pd("toolbar"),fF(d,b,0,0,1,1,c)}function fH(a,b){var c=a.pa(0,0,1,vk),d="k";null==vd[d]&&(vd[d]=ff(b,c.width,c.height)),c.pc(b,!1,vd[d]),c.pd("header")}function fI(a,b){var c=fe(b,!0)?vk:0,d=a.pa(0,c,1,1-c-vl);return d.pd("content"),d}function fJ(a,b,c,d){return b&&fH(a,b),fG(a,c,d),fI(a,b)}var vm=null;function fK(){var a=fJ(ve.canvas,vA,[new fE(vv,()=>{fM(5),ve.pi(3)}),new fE(vs,()=>{fM(5),ve.pi(0)})],"l"),b=ve.context,c=1,d=.4;b.countdown=b.initCountdown;var e=fs(a,c,d,"XX:XX","m",250),f=a.pa(0,0,c,d,"div","n");f.dom.style.fontSize=e+"px",f.pc(fo(b.initCountdown));var g=[new fE(vB,()=>{fL(),fM(6)},"o"),new fE(vD,()=>{fM(5)}),new fE(vE,()=>{fM(5),fM(6)})];fF(a,g,0,.4,1,.1,"p")}function fL(){if(null===vm){var a=fP(0,.1);vm=new Audio(a),vm.play()}}function fM(a){var b=ve.context,c=fa("n"),d=fa("o");if(6==a){if(null!=b.cntIntHndl)return b.cntIntHndl=fq(b.cntIntHndl),void(d.innerHTML=vB);0==b.countdown&&fM(5),d.innerHTML=vC,b.cntIntHndl=setInterval(()=>{c.innerHTML=fo(--b.countdown),0==b.countdown&&(b.cntIntHndl=fq(b.cntIntHndl),vm.src=fP(440,2),vm.play(),c.innerHTML=vF,d.innerHTML=vB)},1e3)}else 5==a?(b.cntIntHndl=fq(b.cntIntHndl),b.countdown=b.initCountdown,c.innerHTML=fo(b.countdown),d.innerHTML=vB):fc("Timer","CountdownControl","Invalid action name: "+a)}var vn=null;function fN(){vn=ve.context.initCountdown;var a=fJ(ve.canvas,vv,[new fE(vr,()=>{ve.context.initCountdown=vn,ve.pi(2)}),new fE(vs,()=>{ve.pi(2)})],"q"),b=1,c=.4,d=fs(a,b,c,"XX:XX","r",250),e=a.pa(0,0,b,c,"div","s");e.dom.style.fontSize=d+"px";var f=["-10","-5","-1","+1","+5","+10"].map(a=>new fE(a,()=>{fO(parseInt(a))}));fF(a,f,0,.4,1,.1,"t"),fO(0)}function fO(a){0>=vn+a?vn=1:vn+=a,fa("s").innerHTML=fo(vn)}function fP(a,b){for(var c=1,d=22050,e=8,f=new Uint8Array(b*d),g=0;g<f.length;g++)f[g]=126*Math.sin(2*g*Math.PI/(d/a))+128;var h=["RIFF",fQ(1,52),"WAVEfmt ",fQ(1,16),fQ(0,1),fQ(0,c),fQ(1,d),fQ(1,d*c*e/8),fQ(0,c*e/8),fQ(0,e),"data",fQ(1,f.length*c*e/8),f],j=new window.Blob(h,{type:"audio/wav"}),k=(window.URL||window.webkitURL).createObjectURL(j);return k}function fQ(a,b){return[new Uint8Array([b,b>>8]),new Uint8Array([b,b>>8,b>>16,b>>24])][a]}var vo="Kdo za\u010Dne?";var vp="Ho\u010F kostkami";var vq="Ho\u010F minc\xED";var vr="Pou\u017E\xEDt";var vs="Zp\u011Bt";var vt="Hlava";var vu="Orel";var vv="Nastaven\xED";var vw="Nezdr\u017Euj";var vx="Po\u010D\xE1te\u010Dn\xED sk\xF3re";var vy="Po\u010Det hr\xE1\u010D\u016F";var vz="Barvy hr\xE1\u010D\u016F";var vA="Odpo\u010Det";var vB="\u25B7";var vC="\u2758 \u2758";var vD="\u25FB";var vE="\u27F2";var vF="KONEC";