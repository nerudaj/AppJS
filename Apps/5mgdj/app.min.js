"use strict";var version="2.0.0",va=1,vb=!1,vc={};function fa(){vc={}}function fb(t){return document.getElementById(t)}function fc(t){return document.getElementsByName(t)}function fd(t,e,n){var i="ERROR: "+t+"::"+e+": "+n;console.error(i),0<va&&alert(i)}function fe(t,e){return Math.floor(Math.random()*e+t)}function ff(t,e){return void 0!==t?t:e}function fg(t,e,n,i){var o=ff(i,100),f=fb("HiddenResizer");f.style.fontSize=o+"px",f.innerHTML=t;for(var a=f.offsetWidth,r=f.offsetHeight;.8*e<a||.8*n<r;)o-=1,f.style.fontSize=o+"px",a=f.offsetWidth,r=f.offsetHeight;return o}function fh(){this.dom=null,this.width=0,this.height=0}function fi(){this.app=null}function fj(){this.context={},this.canvas=new fh,this.views={},this.currentView=""}fh.prototype.add=function(t,e,n,i,o,f){o=ff(o,"div"),f=ff(f,null);var a=new fh,r=document.createElement(o);return null!=f&&r.setAttribute("id",f),this.dom.appendChild(r),a.dom=r,a.width=this.width*n,a.height=this.height*i,a.dom.style.position="absolute",a.dom.style.left=this.width*t+"px",a.dom.style.top=this.height*e+"px",a.dom.style.width=a.width+"px",a.dom.style.height=a.height+"px","input"==o&&(a.pd("focus",function(){vb=!0}),a.pd("blur",function(){setTimeout(function(){vb=!1},500)})),a},fh.prototype.pa=function(t){this.dom.style.background=t},fh.prototype.pb=function(t,e,n){var i=null;(e=ff(e,!1))?(n=ff(n,100),i=fg(t,this.width,this.height,n)):"undefined"!==n&&(i=n);var o=document.createTextNode(t);null!=i&&(this.dom.style.fontSize=i+"px"),this.dom.appendChild(o)},fh.prototype.pc=function(t){this.dom.className+=" "+t},fh.prototype.pd=function(t,e){this.dom.addEventListener(t,e)},fi.prototype.pe=function(){fd("ClassView","render","This method is not implemented!")},fi.prototype.pf=function(t){this.app=t},fj.prototype.pg=function(t,e){var n=this.views;return n.hasOwnProperty(e)?(fd("ClassApp","addView","View with name "+e+" already exists!"),!1):(n[e]=t,n[e].pf(this),!0)},fj.prototype.ph=function(t){this.views.hasOwnProperty(t)?(this.currentView=t,this.pe()):fd("ClassApp","toggleView","View called "+t+" does not exist!")},fj.prototype.pe=function(){var t=this.canvas;t.dom.innerHTML="",t.width=window.innerWidth,t.height=window.innerHeight,t.dom.style.position="absolute",t.dom.style.width=t.width+"px",t.dom.style.height=t.height+"px",this.views[this.currentView].pe()},fj.prototype.pf=function(t){this.canvas.dom=fb(t);var e=this;window.addEventListener("resize",function(){vb||(fa(),e.pe())})};var vd=["Resource Management","Lives","Tile Placement","Score","Evasion","Reflexes","Shooting","Role Playing","Looting","Exploration","Driving"],ve=["Dice","Card","Hexes","Cube","Quests","No Enemies"];function fk(){var t=this.app.canvas;fv(t,"XX:XX");var e=fw(t);fl(e,0,"Pattern:",vd),fl(e,.1,"Restriction:",ve),fl(e,.2,"Modifier:",vd.concat(ve));e.add(.05,.35,.9,.6,"textarea","a");fu(t,[new fs("Stop",function(){fo(app)}),new fs("Submit",function(){}),new fs("Back",function(){fo(app),app.ph(0)})],"b"),null==this.app.context.handle&&fm(this.app)}function fl(t,e,n,i){console.log(i),t.add(0,e,.4,.1).pb(n,!0);var o=i[fe(0,i.length)];t.add(.4,e,.6,.1).pb(o,!0)}function fm(t){var e=t.context;e.timer=300,e.handle=setInterval(function(){fn(t)},1e3)}function fn(t){var e=t.context;if(e.timer--,0==e.timer)return fb("c").innerHTML="END!",void fo(t);fp(e.timer)}function fo(t){var e=t.context;clearInterval(e.handle),e.handle=null}function fp(t){fb("c").innerHTML=t}var app=new fj;function Main(){app.pf("Canvas"),app.context.handle=null;for(var t=[{callback:fq,name:app.context.timer=0},{callback:fk,name:1}],e=0;e<t.length;e++){var n=new fi;n.pe=t[e].callback,app.pg(n,t[e].name)}app.ph(0)}function fq(){var t=this.app.canvas;fv(t,"5min Design Game Jam"),fw(t).pb("Hello world"),fu(t,[new fs("Start the challenge",function(){app.ph(1)})],"b")}var vf=.0807,vg=vf;function fr(t,e){return t.length>e.length?t:e}function fs(t,e,n){this.label=t,this.action=e,this.id=ff(n,null)}function ft(t,e,n,i,o,f,a){var r,h,p=o/e.length;if(null==vc[a]){for(var s="",d=0;d<e.length;d++)s=fr(s,e[d].label);vc[a]=fg(s,t.width*p,t.height*f)}for(d=0;d<e.length;d++)null!=e[d]&&(r=d,h=void 0,(h=t.add(n+d*p,i,p,f,"button",e[r].id)).pd("click",e[r].action),h.pb(e[r].label,!1,vc[a]),0<d&&h.pc("button_separator"))}function fu(t,e,n){var i=t.add(0,1-vg,1,vg);i.pc("toolbar"),ft(i,e,0,0,1,1,n)}function fv(t,e){var n=t.add(0,0,1,vf,"div","c");null==vc.d&&(vc.d=fg(e,n.width,n.height)),n.pb(e,!1,vc.d),n.pc("header")}function fw(t,e){var n=ff(e,!0)?vf:0,i=t.add(0,n,1,1-n-vg);return i.pc("content"),i}